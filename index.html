<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>StackEdit.js í†µí•© ì—ë””í„°</title>
    
    <style>
        * {
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            margin: 0;
            padding: 0;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }
        
        .header {
            text-align: center;
            padding: 30px 20px;
            color: white;
        }
        
        .header h1 {
            margin: 0;
            font-size: 2.5rem;
            font-weight: 700;
            text-shadow: 0 2px 10px rgba(0,0,0,0.3);
        }
        
        .header p {
            margin: 10px 0 0 0;
            font-size: 1.1rem;
            opacity: 0.9;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 20px 40px;
        }
        
        .controls {
            text-align: center;
            margin-bottom: 30px;
            display: flex;
            justify-content: center;
            gap: 15px;
            flex-wrap: wrap;
        }
        
        .btn {
            background: rgba(255,255,255,0.2);
            color: white;
            border: 2px solid rgba(255,255,255,0.3);
            padding: 12px 24px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 600;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
        }
        
        .btn:hover {
            background: rgba(255,255,255,0.3);
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
        }
        
        .btn.active {
            background: rgba(255,255,255,0.9);
            color: #667eea;
        }
        
        .editor-container {
            background: rgba(255,255,255,0.95);
            border-radius: 20px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.3);
            overflow: hidden;
            backdrop-filter: blur(20px);
        }
        
        .editor-header {
            background: linear-gradient(90deg, #667eea, #764ba2);
            color: white;
            padding: 15px 25px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .editor-title {
            font-weight: 600;
            font-size: 16px;
        }
        
        .editor-status {
            font-size: 14px;
            opacity: 0.9;
        }
        
        .split-view {
            display: flex;
            height: 70vh;
            min-height: 600px;
        }
        
        .textarea-panel, .stackedit-panel {
            flex: 1;
            display: flex;
            flex-direction: column;
        }
        
        .textarea-panel {
            border-right: 1px solid #e5e7eb;
            background: #fafbfc;
        }
        
        .panel-header {
            padding: 15px 20px;
            font-weight: 600;
            font-size: 14px;
            border-bottom: 1px solid #e5e7eb;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .textarea-header {
            background: #f8f9fa;
            color: #4a5568;
        }
        
        .stackedit-header {
            background: #ffffff;
            color: #4a5568;
        }
        
        .editor-textarea {
            flex: 1;
            border: none;
            padding: 20px;
            font-family: 'SF Mono', 'Monaco', 'Inconsolata', 'Roboto Mono', monospace;
            font-size: 14px;
            line-height: 1.7;
            resize: none;
            outline: none;
            background: #fafbfc;
            color: #2d3748;
        }
        
        .stackedit-content {
            flex: 1;
            background: white;
            position: relative;
            overflow: hidden;
        }
        
        .stackedit-iframe {
            width: 100%;
            height: 100%;
            border: none;
            background: white;
        }
        
        .loading-overlay {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: white;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-direction: column;
            z-index: 10;
        }
        
        .loading-spinner {
            width: 40px;
            height: 40px;
            border: 4px solid #f3f4f6;
            border-top: 4px solid #667eea;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        .features-section {
            margin-top: 30px;
            padding: 25px;
            background: rgba(255,255,255,0.95);
            border-radius: 20px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.3);
            backdrop-filter: blur(20px);
        }
        
        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        
        .feature-card {
            padding: 20px;
            background: linear-gradient(135deg, #f0f9ff 0%, #e0e7ff 100%);
            border-radius: 12px;
            border-left: 4px solid #667eea;
        }
        
        .feature-card h4 {
            color: #4338ca;
            margin: 0 0 10px 0;
            font-size: 1.1rem;
        }
        
        .feature-card p {
            color: #64748b;
            margin: 0;
            font-size: 0.95rem;
        }
        
        .demo-section {
            margin-top: 20px;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 12px;
            border: 1px solid #e5e7eb;
        }
        
        .demo-files {
            display: flex;
            gap: 10px;
            margin-bottom: 15px;
            flex-wrap: wrap;
        }
        
        .demo-file {
            background: #667eea;
            color: white;
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 13px;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .demo-file:hover {
            background: #5a67d8;
            transform: translateY(-1px);
        }
        
        .status-info {
            margin-top: 15px;
            padding: 15px;
            background: #e8f4fd;
            border-radius: 8px;
            border-left: 4px solid #667eea;
        }
        
        .status-info h5 {
            margin: 0 0 8px 0;
            color: #4338ca;
        }
        
        .status-info p {
            margin: 0;
            color: #64748b;
            font-size: 14px;
        }
        
        @media (max-width: 768px) {
            .split-view {
                flex-direction: column;
                height: auto;
            }
            
            .textarea-panel, .stackedit-panel {
                min-height: 400px;
            }
            
            .textarea-panel {
                border-right: none;
                border-bottom: 1px solid #e5e7eb;
            }
            
            .controls {
                gap: 8px;
            }
            
            .btn {
                padding: 10px 18px;
                font-size: 13px;
            }
            
            .header h1 {
                font-size: 2rem;
            }
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>ğŸš€ StackEdit.js í†µí•© ì—ë””í„°</h1>
        <p>ì§„ì§œ StackEditì˜ ëª¨ë“  ê¸°ëŠ¥ì„ ì›¹ì‚¬ì´íŠ¸ì— í†µí•©</p>
    </div>
    
    <div class="container">
        <div class="controls">
            <button class="btn active" id="openStackEditBtn">ğŸ“ StackEdit ì—´ê¸°</button>
            <button class="btn" id="silentModeBtn">ğŸ”‡ Silent ëª¨ë“œ</button>
            <button class="btn" id="closeStackEditBtn">âŒ StackEdit ë‹«ê¸°</button>
            <button class="btn" id="exportHtmlBtn">ğŸ’¾ HTML ë‚´ë³´ë‚´ê¸°</button>
        </div>
        
        <div class="editor-container">
            <div class="editor-header">
                <div class="editor-title">ğŸ“„ StackEdit.js í†µí•© ì—ë””í„°</div>
                <div class="editor-status" id="editorStatus">ì¤€ë¹„ë¨</div>
            </div>
            
            <div class="split-view">
                <div class="textarea-panel">
                    <div class="panel-header textarea-header">
                        <span>ğŸ“ ë§ˆí¬ë‹¤ìš´ ì†ŒìŠ¤</span>
                        <span id="fileInfo">document.md</span>
                    </div>
                    <textarea id="markdownTextarea" class="editor-textarea" placeholder="ì—¬ê¸°ì— ë§ˆí¬ë‹¤ìš´ì„ ì‘ì„±í•˜ê±°ë‚˜ StackEditì—ì„œ í¸ì§‘í•˜ì„¸ìš”...

# StackEdit.js ë°ëª¨

ì´ ì—ë””í„°ëŠ” **ì‹¤ì œ StackEdit**ì„ iframeìœ¼ë¡œ ì„ë² ë“œí•˜ì—¬ ëª¨ë“  ê¸°ëŠ¥ì„ ì œê³µí•©ë‹ˆë‹¤.

## ğŸŒŸ ì£¼ìš” ê¸°ëŠ¥

### ìˆ˜í•™ ê³µì‹ (KaTeX)
$$E = mc^2$$

### ë‹¤ì´ì–´ê·¸ë¨ (Mermaid)
```mermaid
graph TD
    A[Start] --> B{Decision}
    B -->|Yes| C[Success]
    B -->|No| D[Retry]
```

### í‘œ
| ê¸°ëŠ¥ | ì§€ì› ì—¬ë¶€ |
|------|-----------|
| KaTeX | âœ… |
| Mermaid | âœ… |
| ì‹¤ì‹œê°„ ë™ê¸°í™” | âœ… |

**StackEdit ì—´ê¸°** ë²„íŠ¼ì„ í´ë¦­í•´ì„œ ì§„ì§œ StackEditìœ¼ë¡œ í¸ì§‘í•´ë³´ì„¸ìš”!"></textarea>
                </div>
                
                <div class="stackedit-panel">
                    <div class="panel-header stackedit-header">
                        <span>ğŸ‘ï¸ StackEdit ë¯¸ë¦¬ë³´ê¸°</span>
                        <span id="stackeditStatus">ëŒ€ê¸° ì¤‘</span>
                    </div>
                    <div class="stackedit-content">
                        <div class="loading-overlay" id="loadingOverlay" style="display: none;">
                            <div class="loading-spinner"></div>
                            <p style="margin-top: 15px; color: #64748b;">StackEdit ë¡œë”© ì¤‘...</p>
                        </div>
                        <div id="previewContent" style="padding: 20px; height: 100%; overflow-y: auto; background: white;">
                            <div style="text-align: center; padding: 40px; color: #64748b;">
                                <h3 style="color: #667eea; margin-bottom: 15px;">ğŸš€ StackEdit.js í†µí•© ì—ë””í„°</h3>
                                <p style="margin-bottom: 20px;">ì™¼ìª½ í…ìŠ¤íŠ¸ ì˜ì—­ì— ë§ˆí¬ë‹¤ìš´ì„ ì‘ì„±í•˜ê±°ë‚˜<br><strong>"StackEdit ì—´ê¸°"</strong> ë²„íŠ¼ì„ í´ë¦­í•´ì„œ ì‹œì‘í•˜ì„¸ìš”!</p>
                                <div style="background: #f8f9ff; padding: 15px; border-radius: 8px; border-left: 4px solid #667eea; text-align: left;">
                                    <strong>ğŸ’¡ íŒ:</strong> StackEditì„ ì—´ë©´ ì‹¤ì œ StackEditì˜ ëª¨ë“  ê¸°ëŠ¥ì„ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:
                                    <ul style="margin: 10px 0 0 20px;">
                                        <li>ì™„ì „í•œ KaTeX ìˆ˜í•™ ì§€ì›</li>
                                        <li>Mermaid ë‹¤ì´ì–´ê·¸ë¨</li>
                                        <li>ê³ ê¸‰ ë§ˆí¬ë‹¤ìš´ í™•ì¥</li>
                                        <li>ì‹¤ì‹œê°„ í˜‘ì—…</li>
                                        <li>í´ë¼ìš°ë“œ ë™ê¸°í™”</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="features-section">
            <h3 style="color: #4338ca; margin: 0 0 15px 0;">âœ¨ StackEdit.jsì˜ ê°•ë ¥í•œ ê¸°ëŠ¥ë“¤</h3>
            
            <div class="features-grid">
                <div class="feature-card">
                    <h4>ğŸ”— ì™„ì „í•œ í†µí•©</h4>
                    <p>ì§„ì§œ StackEditì„ iframeìœ¼ë¡œ ì„ë² ë“œí•˜ì—¬ ëª¨ë“  ì›ë³¸ ê¸°ëŠ¥ì„ ê·¸ëŒ€ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
                </div>
                <div class="feature-card">
                    <h4>ğŸ“± ê²½ëŸ‰ ë¼ì´ë¸ŒëŸ¬ë¦¬</h4>
                    <p>ì˜ì¡´ì„±ì´ ì—†ëŠ” ê²½ëŸ‰ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¡œ ì–´ë–¤ ì›¹ì‚¬ì´íŠ¸ì—ë“  ì‰½ê²Œ í†µí•© ê°€ëŠ¥í•©ë‹ˆë‹¤.</p>
                </div>
                <div class="feature-card">
                    <h4>ğŸ”„ ì‹¤ì‹œê°„ ë™ê¸°í™”</h4>
                    <p>StackEditì—ì„œì˜ ë³€ê²½ì‚¬í•­ì´ ì¦‰ì‹œ textareaì— ë°˜ì˜ë˜ì–´ ì™„ë²½í•œ ë™ê¸°í™”ë¥¼ ì œê³µí•©ë‹ˆë‹¤.</p>
                </div>
                <div class="feature-card">
                    <h4>ğŸ›ï¸ Silent ëª¨ë“œ</h4>
                    <p>UI ì—†ì´ ë°±ê·¸ë¼ìš´ë“œì—ì„œ ë§ˆí¬ë‹¤ìš´ì„ HTMLë¡œ ë³€í™˜í•˜ëŠ” ê¸°ëŠ¥ì„ ì œê³µí•©ë‹ˆë‹¤.</p>
                </div>
                <div class="feature-card">
                    <h4>ğŸ§® ì™„ì „í•œ KaTeX</h4>
                    <p>StackEditì˜ ì™„ì „í•œ ìˆ˜í•™ ê³µì‹ ì§€ì›ìœ¼ë¡œ ë³µì¡í•œ LaTeX ìˆ˜ì‹ë„ ì™„ë²½ ë Œë”ë§ë©ë‹ˆë‹¤.</p>
                </div>
                <div class="feature-card">
                    <h4>ğŸ“Š Mermaid ë‹¤ì´ì–´ê·¸ë¨</h4>
                    <p>í”Œë¡œìš°ì°¨íŠ¸, ì‹œí€€ìŠ¤ ë‹¤ì´ì–´ê·¸ë¨, ê°„íŠ¸ ì°¨íŠ¸ ë“± ëª¨ë“  ë‹¤ì´ì–´ê·¸ë¨ì„ ì§€ì›í•©ë‹ˆë‹¤.</p>
                </div>
            </div>
            
            <div class="demo-section">
                <h4 style="color: #4338ca; margin: 0 0 15px 0;">ğŸ¯ ë°ëª¨ íŒŒì¼ ë¶ˆëŸ¬ì˜¤ê¸°</h4>
                <div class="demo-files">
                    <div class="demo-file" data-demo="math">ğŸ§® ìˆ˜í•™ ê³µì‹ ì˜ˆì œ</div>
                    <div class="demo-file" data-demo="diagram">ğŸ“Š ë‹¤ì´ì–´ê·¸ë¨ ì˜ˆì œ</div>
                    <div class="demo-file" data-demo="table">ğŸ“‹ ê³ ê¸‰ í‘œ ì˜ˆì œ</div>
                    <div class="demo-file" data-demo="stackedit">ğŸ“ StackEdit ë¬¸ì„œ</div>
                </div>
                
                <div class="status-info">
                    <h5>ğŸ”§ ì‚¬ìš© ë°©ë²•</h5>
                    <p>1. ë°ëª¨ íŒŒì¼ì„ í´ë¦­í•˜ì—¬ ìƒ˜í”Œ ë‚´ìš©ì„ ë¡œë“œí•˜ì„¸ìš”<br>
                    2. "StackEdit ì—´ê¸°"ë¥¼ í´ë¦­í•˜ì—¬ ì‹¤ì œ StackEditì—ì„œ í¸ì§‘í•˜ì„¸ìš”<br>
                    3. ë³€ê²½ì‚¬í•­ì´ ìë™ìœ¼ë¡œ ì™¼ìª½ textareaì— ë™ê¸°í™”ë©ë‹ˆë‹¤</p>
                </div>
            </div>
        </div>
    </div>

    <!-- StackEdit.js ë¼ì´ë¸ŒëŸ¬ë¦¬ -->
    <script src="https://unpkg.com/stackedit-js@1.0.7/docs/lib/stackedit.min.js"></script>
    
    <script>
        class StackEditIntegration {
            constructor() {
                this.stackedit = null;
                this.currentFile = null;
                this.isStackEditOpen = false;
                
                this.textarea = document.getElementById('markdownTextarea');
                this.previewContent = document.getElementById('previewContent');
                this.loadingOverlay = document.getElementById('loadingOverlay');
                
                this.setupEventListeners();
                this.updateStatus('ì¤€ë¹„ë¨');
            }
            
            setupEventListeners() {
                // ë²„íŠ¼ ì´ë²¤íŠ¸
                document.getElementById('openStackEditBtn').addEventListener('click', () => this.openStackEdit());
                document.getElementById('silentModeBtn').addEventListener('click', () => this.silentMode());
                document.getElementById('closeStackEditBtn').addEventListener('click', () => this.closeStackEdit());
                document.getElementById('exportHtmlBtn').addEventListener('click', () => this.exportHTML());
                
                // ë°ëª¨ íŒŒì¼ ì´ë²¤íŠ¸
                document.querySelectorAll('.demo-file').forEach(btn => {
                    btn.addEventListener('click', (e) => this.loadDemo(e.target.dataset.demo));
                });
                
                // Textarea ë³€ê²½ ì´ë²¤íŠ¸
                this.textarea.addEventListener('input', () => {
                    if (!this.isStackEditOpen) {
                        this.renderPreview();
                    }
                });
                
                // ì´ˆê¸° ë Œë”ë§
                this.renderPreview();
            }
            
            async openStackEdit() {
                try {
                    this.updateStatus('StackEdit ë¡œë”© ì¤‘...');
                    this.showLoading(true);
                    
                    // StackEdit ì¸ìŠ¤í„´ìŠ¤ ìƒì„±
                    this.stackedit = new Stackedit();
                    
                    // íŒŒì¼ ì—´ê¸°
                    const fileName = `document_${Date.now()}.md`;
                    this.currentFile = {
                        name: fileName,
                        content: {
                            text: this.textarea.value
                        },
                        properties: {
                            extensions: {
                                katex: { enabled: true },
                                mermaid: { enabled: true },
                                emoji: { enabled: true }
                            }
                        }
                    };
                    
                    this.stackedit.openFile(this.currentFile);
                    this.isStackEditOpen = true;
                    
                    // ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì„¤ì •
                    this.stackedit.on('fileChange', (file) => {
                        console.log('File changed:', file);
                        this.textarea.value = file.content.text;
                        this.currentFile = file;
                        this.renderPreviewFromHTML(file.content.html);
                        this.updateStatus(`í¸ì§‘ ì¤‘: ${file.name}`);
                    });
                    
                    this.stackedit.on('close', () => {
                        console.log('StackEdit closed');
                        this.isStackEditOpen = false;
                        this.updateStatus('StackEdit ë‹«í˜');
                        this.showLoading(false);
                    });
                    
                    this.updateStatus(`StackEdit ì—´ë¦¼: ${fileName}`);
                    setTimeout(() => this.showLoading(false), 2000);
                    
                } catch (error) {
                    console.error('StackEdit ì—´ê¸° ì‹¤íŒ¨:', error);
                    this.updateStatus('ì˜¤ë¥˜: StackEdit ì—´ê¸° ì‹¤íŒ¨');
                    this.showLoading(false);
                    alert('StackEditì„ ì—´ ìˆ˜ ì—†ìŠµë‹ˆë‹¤. ì¸í„°ë„· ì—°ê²°ì„ í™•ì¸í•´ì£¼ì„¸ìš”.');
                }
            }
            
            async silentMode() {
                try {
                    this.updateStatus('Silent ëª¨ë“œ ì‹¤í–‰ ì¤‘...');
                    
                    const stackedit = new Stackedit();
                    const fileName = `silent_${Date.now()}.md`;
                    
                    stackedit.openFile({
                        name: fileName,
                        content: {
                            text: this.textarea.value
                        },
                        properties: {
                            extensions: {
                                katex: { enabled: true },
                                mermaid: { enabled: true },
                                emoji: { enabled: true }
                            }
                        }
                    }, true); // silent mode
                    
                    stackedit.on('fileChange', (file) => {
                        console.log('Silent mode HTML:', file.content.html);
                        this.renderPreviewFromHTML(file.content.html);
                        this.updateStatus('Silent ëª¨ë“œ ì™„ë£Œ');
                        
                        // ìë™ìœ¼ë¡œ ë‹«ê¸°
                        setTimeout(() => stackedit.close(), 1000);
                    });
                    
                } catch (error) {
                    console.error('Silent ëª¨ë“œ ì‹¤íŒ¨:', error);
                    this.updateStatus('ì˜¤ë¥˜: Silent ëª¨ë“œ ì‹¤íŒ¨');
                }
            }
            
            closeStackEdit() {
                if (this.stackedit && this.isStackEditOpen) {
                    this.stackedit.close();
                    this.isStackEditOpen = false;
                    this.updateStatus('StackEdit ë‹«í˜');
                } else {
                    this.updateStatus('StackEditì´ ì—´ë ¤ìˆì§€ ì•ŠìŒ');
                }
            }
            
            exportHTML() {
                if (this.currentFile && this.currentFile.content.html) {
                    const html = `<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>${this.currentFile.name}</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.8/dist/katex.min.css">
    <style>
        body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; max-width: 800px; margin: 0 auto; padding: 20px; line-height: 1.6; }
        .katex-display { margin: 1em 0; }
        table { border-collapse: collapse; width: 100%; margin: 1em 0; }
        th, td { border: 1px solid #ddd; padding: 8px 12px; }
        th { background-color: #f5f5f5; font-weight: 600; }
        code { background: #f5f5f5; padding: 2px 4px; border-radius: 3px; }
        pre { background: #f5f5f5; padding: 1em; border-radius: 5px; overflow-x: auto; }
        blockquote { border-left: 4px solid #ddd; margin: 1em 0; padding: 0 1em; color: #666; }
    </style>
</head>
<body>
${this.currentFile.content.html}
</body>
</html>`;
                    
                    const blob = new Blob([html], { type: 'text/html' });
                    const url = URL.createObjectURL(blob);
                    const a = document.createElement('a');
                    a.href = url;
                    a.download = this.currentFile.name.replace('.md', '.html');
                    a.click();
                    URL.revokeObjectURL(url);
                    
                    this.updateStatus('HTML ë‚´ë³´ë‚´ê¸° ì™„ë£Œ');
                } else {
                    alert('ë¨¼ì € StackEditì—ì„œ ë¬¸ì„œë¥¼ í¸ì§‘í•´ì£¼ì„¸ìš”.');
                }
            }
            
            loadDemo(demoType) {
                const demos = {
                    math: `# ğŸ§® ìˆ˜í•™ ê³µì‹ ë°ëª¨

## ê¸°ë³¸ ìˆ˜ì‹
ì¸ë¼ì¸ ìˆ˜ì‹: $E = mc^2$, $\\alpha + \\beta = \\gamma$

## ë³µì¡í•œ ìˆ˜ì‹
ë§¥ìŠ¤ì›° ë°©ì •ì‹:
$$\\nabla \\times \\vec{\\mathbf{B}} -\\, \\frac1c\\, \\frac{\\partial\\vec{\\mathbf{E}}}{\\partial t} = \\frac{4\\pi}{c}\\vec{\\mathbf{j}}$$

$$\\nabla \\cdot \\vec{\\mathbf{E}} = 4 \\pi \\rho$$

## í–‰ë ¬
$$\\begin{pmatrix}
\\cos\\theta & -\\sin\\theta \\\\
\\sin\\theta & \\cos\\theta
\\end{pmatrix}
\\begin{pmatrix}
x \\\\ y
\\end{pmatrix}
=
\\begin{pmatrix}
x\\cos\\theta - y\\sin\\theta \\\\
x\\sin\\theta + y\\cos\\theta
\\end{pmatrix}$$`,

                    diagram: `# ğŸ“Š ë‹¤ì´ì–´ê·¸ë¨ ë°ëª¨

## í”Œë¡œìš°ì°¨íŠ¸
\`\`\`mermaid
graph TD
    A[ì‹œì‘] --> B{ì¡°ê±´ í™•ì¸}
    B -->|ì˜ˆ| C[ì²˜ë¦¬ A]
    B -->|ì•„ë‹ˆì˜¤| D[ì²˜ë¦¬ B]
    C --> E[ê²°ê³¼]
    D --> E
    E --> F[ì¢…ë£Œ]
\`\`\`

## ì‹œí€€ìŠ¤ ë‹¤ì´ì–´ê·¸ë¨
\`\`\`mermaid
sequenceDiagram
    participant A as ì‚¬ìš©ì
    participant B as ì›¹ì„œë²„
    participant C as ë°ì´í„°ë² ì´ìŠ¤
    
    A->>B: ë¡œê·¸ì¸ ìš”ì²­
    B->>C: ì‚¬ìš©ì ì •ë³´ ì¡°íšŒ
    C-->>B: ì‚¬ìš©ì ë°ì´í„°
    B-->>A: ë¡œê·¸ì¸ ì„±ê³µ
\`\`\`

## ê°„íŠ¸ ì°¨íŠ¸
\`\`\`mermaid
gantt
    title í”„ë¡œì íŠ¸ ì¼ì •
    dateFormat  YYYY-MM-DD
    section ê³„íš
    ìš”êµ¬ì‚¬í•­ ë¶„ì„    :a1, 2024-01-01, 30d
    ì„¤ê³„            :after a1, 20d
    section ê°œë°œ
    ê°œë°œ            :2024-02-20, 45d
    í…ŒìŠ¤íŠ¸          :2024-04-05, 15d
\`\`\``,

                    table: `# ğŸ“‹ ê³ ê¸‰ í‘œ ë°ëª¨

## ê¸°ë³¸ í‘œ
| ê¸°ëŠ¥ | StackEdit | ë‹¤ë¥¸ ì—ë””í„° | ë¹„ê³  |
|------|-----------|-------------|------|
| KaTeX | âœ… | âŒ | ì™„ì „ ì§€ì› |
| Mermaid | âœ… | âš ï¸ | ì œí•œì  |
| ì‹¤ì‹œê°„ ë™ê¸°í™” | âœ… | âŒ | ë…ë³´ì  |

## ì •ë ¬ëœ í‘œ
| ì™¼ìª½ ì •ë ¬ | ê°€ìš´ë° ì •ë ¬ | ì˜¤ë¥¸ìª½ ì •ë ¬ |
|:----------|:----------:|----------:|
| ë‚´ìš© 1 | ë‚´ìš© 2 | ë‚´ìš© 3 |
| ê¸´ ë‚´ìš©ì…ë‹ˆë‹¤ | ì¤‘ê°„ | ì§§ìŒ |

## ìˆ˜ì‹ì´ í¬í•¨ëœ í‘œ
| ê³µì‹ | ì„¤ëª… |
|------|------|
| $E = mc^2$ | ì•„ì¸ìŠˆíƒ€ì¸ì˜ ì§ˆëŸ‰-ì—ë„ˆì§€ ë“±ê°€ì„± |
| $\\pi r^2$ | ì›ì˜ ë„“ì´ |
| $\\int_0^1 x dx = \\frac{1}{2}$ | ì ë¶„ ì˜ˆì œ |`,

                    stackedit: `# Welcome to StackEdit!

Hi! I'm your first Markdown file in **StackEdit**. If you want to learn about StackEdit, you can read me. If you want to play with Markdown, you can edit me. Once you have finished with me, you can create new files by opening the **file explorer** on the left corner of the navigation bar.

## Files

StackEdit stores your files in your browser, which means all your files are automatically saved locally and are accessible **offline!**

### Create files and folders

The file explorer is accessible using the button in left corner of the navigation bar. You can create a new file by clicking the **New file** button in the file explorer. You can also create folders by clicking the **New folder** button.

## KaTeX

You can render LaTeX mathematical expressions using [KaTeX](https://khan.github.io/KaTeX/):

The *Gamma function* satisfying $\\Gamma(n) = (n-1)!\\quad\\forall n\\in\\mathbb N$ is via the Euler integral

$
\\Gamma(z) = \\int_0^\\infty t^{z-1}e^{-t}dt\\,.
$

## UML diagrams

You can render UML diagrams using [Mermaid](https://mermaidjs.github.io/). For example, this will produce a sequence diagram:

\`\`\`mermaid
sequenceDiagram
Alice ->> Bob: Hello Bob, how are you?
Bob-->>John: How about you John?
Bob--x Alice: I am good thanks!
Bob-x John: I am good thanks!
Note right of John: Bob thinks a long<br/>long time, so long<br/>that the text does<br/>not fit on a row.

Bob-->Alice: Checking with John...
Alice->John: Yes... John, how are you?
\`\`\`

And this will produce a flow chart:

\`\`\`mermaid
graph LR
A[Square Rect] -- Link text --> B((Circle))
A --> C(Round Rect)
B --> D{Rhombus}
C --> D
\`\`\``
                };
                
                this.textarea.value = demos[demoType] || demos.stackedit;
                this.renderPreview();
                this.updateStatus(`${demoType} ë°ëª¨ ë¡œë“œë¨`);
                
                // íŒŒì¼ ì •ë³´ ì—…ë°ì´íŠ¸
                document.getElementById('fileInfo').textContent = `demo_${demoType}.md`;
            }
            
            renderPreview() {
                // ê°„ë‹¨í•œ ë§ˆí¬ë‹¤ìš´ ë Œë”ë§ (StackEdit ì—†ì´ë„ ê¸°ë³¸ ë¯¸ë¦¬ë³´ê¸° ì œê³µ)
                const markdown = this.textarea.value;
                let html = this.simpleMarkdownToHtml(markdown);
                this.previewContent.innerHTML = html;
            }
            
            renderPreviewFromHTML(html) {
                // StackEditì—ì„œ ìƒì„±ëœ HTMLì„ ê·¸ëŒ€ë¡œ ì‚¬ìš©
                this.previewContent.innerHTML = html;
            }
            
            simpleMarkdownToHtml(markdown) {
                // ê¸°ë³¸ì ì¸ ë§ˆí¬ë‹¤ìš´ ë³€í™˜ (ì‹¤ì œë¡œëŠ” StackEditì„ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì¢‹ìŒ)
                return markdown
                    .replace(/^### (.*$)/gim, '<h3>$1</h3>')
                    .replace(/^## (.*$)/gim, '<h2>$1</h2>')
                    .replace(/^# (.*$)/gim, '<h1>$1</h1>')
                    .replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>')
                    .replace(/\*(.*?)\*/g, '<em>$1</em>')
                    .replace(/`([^`]*)`/g, '<code style="background: #f1f5f9; padding: 2px 4px; border-radius: 3px;">$1</code>')
                    .replace(/\[([^\]]+)\]\(([^)]+)\)/g, '<a href="$2" target="_blank" style="color: #667eea;">$1</a>')
                    .replace(/\n\s*\n/g, '</p><p>')
                    .replace(/\n/g, '<br>')
                    .replace(/^/, '<p>')
                    .replace(/$/, '</p>');
            }
            
            showLoading(show) {
                this.loadingOverlay.style.display = show ? 'flex' : 'none';
            }
            
            updateStatus(status) {
                document.getElementById('editorStatus').textContent = status;
                document.getElementById('stackeditStatus').textContent = status;
                console.log('Status:', status);
            }
        }
        
        // í˜ì´ì§€ ë¡œë“œ ì™„ë£Œ í›„ ì´ˆê¸°í™”
        document.addEventListener('DOMContentLoaded', () => {
            // StackEdit.js ë¡œë“œ í™•ì¸
            if (typeof Stackedit !== 'undefined') {
                console.log('StackEdit.js ë¡œë“œë¨');
                new StackEditIntegration();
            } else {
                console.error('StackEdit.js ë¡œë“œ ì‹¤íŒ¨');
                document.getElementById('editorStatus').textContent = 'ì˜¤ë¥˜: StackEdit.js ë¡œë“œ ì‹¤íŒ¨';
                
                // ëŒ€ì²´ ë©”ì‹œì§€ í‘œì‹œ
                document.getElementById('previewContent').innerHTML = `
                    <div style="text-align: center; padding: 40px; color: #dc2626;">
                        <h3>âš ï¸ StackEdit.js ë¡œë“œ ì‹¤íŒ¨</h3>
                        <p>StackEdit.js ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ë¡œë“œí•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.</p>
                        <p style="font-size: 14px; color: #64748b; margin-top: 20px;">
                            ì¸í„°ë„· ì—°ê²°ì„ í™•ì¸í•˜ê±°ë‚˜ í˜ì´ì§€ë¥¼ ìƒˆë¡œê³ ì¹¨í•´ì£¼ì„¸ìš”.
                        </p>
                    </div>
                `;
            }
        });
        
        // ì „ì—­ ì—ëŸ¬ í•¸ë“¤ë§
        window.addEventListener('error', (e) => {
            console.error('ì „ì—­ ì—ëŸ¬:', e);
            if (e.message.includes('Stackedit')) {
                document.getElementById('editorStatus').textContent = 'ì˜¤ë¥˜: StackEdit ì—°ê²° ì‹¤íŒ¨';
            }
        });
    </script>
</body>
</html>
